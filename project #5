import turtle

def factorial(n):
    """Returns the factorial of a number recursively."""
    if n == 0 or n == 1:
        return 1
    return n * factorial(n - 1)

def fibonacci(n):
    """Returns the nth Fibonacci number recursively."""
    if n <= 1:
        return n
    return fibonacci(n - 1) + fibonacci(n - 2)

def draw_tree(branch_length, t):
    """Draws a recursive tree using turtle graphics."""
    if branch_length > 5:
        t.forward(branch_length)
        t.right(20)
        draw_tree(branch_length - 15, t)
        t.left(40)
        draw_tree(branch_length - 15, t)
        t.right(20)
        t.backward(branch_length)

def get_positive_integer(prompt):
    """Prompts the user until a valid positive integer is entered."""
    while True:
        try:
            value = int(input(prompt))
            if value < 0:
                print("‚ùó Please enter a non-negative integer.")
            else:
                return value
        except ValueError:
            print("‚ùó Invalid input. Please enter a number.")

def main():
    print("üåü Welcome to the Recursive Artistry Program! üåü")

    while True:
        print("\nChoose an option:")
        print("1. Calculate Factorial")
        print("2. Find Fibonacci")
        print("3. Draw a Recursive Fractal")
        print("4. Exit")

        choice = input("> ")

        if choice == "1":
            num = get_positive_integer("Enter a number to find its factorial: ")
            result = factorial(num)
            print(f"The factorial of {num} is {result}.")

        elif choice == "2":
            num = get_positive_integer("Enter the position of the Fibonacci number: ")
            result = fibonacci(num)
            print(f"The {num}th Fibonacci number is {result}.")

        elif choice == "3":
            print("Drawing a fractal tree... üå≥ (Close the window to return to the menu)")
            screen = turtle.Screen()
            screen.bgcolor("skyblue")
            t = turtle.Turtle()
            t.color("forest green")
            t.speed("fastest")
            t.left(90)
            t.up()
            t.backward(100)
            t.down()
            draw_tree(75, t)
            screen.mainloop()

        elif choice == "4":
            print("Goodbye! üëã")
            break

        else:
            print("‚ùó Invalid choice. Please enter 1, 2, 3, or 4.")

if __name__ == "__main__":
    main()
